-- MySQL dump 10.11
--
-- Host: localhost    Database: mysql
-- ------------------------------------------------------
-- Server version	5.0.83

USE `brickslopes`;

DROP TABLE IF EXISTS `gamesConnector`;
DROP TABLE IF EXISTS `gameAwards`;
DROP TABLE IF EXISTS `games`;

CREATE TABLE `games` (
  `gameId` INT(10) UNSIGNED UNIQUE NOT NULL auto_increment,
  `eventId` INT(10) UNSIGNED NOT NULL,
  `game` VARCHAR(255),
  `description` VARCHAR(255),
  `image` VARCHAR(255),
  `maxParticipants` INT(10),
  `currentParticipants` INT(10),
  `openRegistration` ENUM('YES', 'NO'),
  PRIMARY KEY (`gameId`),
  FOREIGN KEY (`eventId`) REFERENCES `events` (`eventId`),
  UNIQUE KEY `gameId_UNIQUE` (`gameId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='The Games Table';

CREATE TABLE `gameAwards` (
  `gameAwardId` INT(10) UNSIGNED UNIQUE NOT NULL auto_increment,
  `gameId` INT(10) UNSIGNED NOT NULL,
  `userId` INT(10) UNSIGNED NULL,
  `award` VARCHAR(255),
  `place` INT(2),
  PRIMARY KEY (`gameAwardId`),
  FOREIGN KEY (`gameId`) REFERENCES `games` (`gameId`),
  FOREIGN KEY (`userId`) REFERENCES `users` (`userId`),
  UNIQUE KEY `gameAwardId_UNIQUE` (`gameAwardId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='The Game Awards Table';

CREATE TABLE `gamesConnector` (
  `gameConnectorId` INT(10) UNSIGNED UNIQUE NOT NULL auto_increment,
  `gameId` INT(10) UNSIGNED NOT NULL,
  `userId` INT(10) UNSIGNED NULL,
  `type` ENUM('PARTICIPANT', 'VOLUNTEER', 'COORDINATOR'),
  PRIMARY KEY (`gameConnectorId`),
  FOREIGN KEY (`gameId`) REFERENCES `games` (`gameId`),
  FOREIGN KEY (`userId`) REFERENCES `users` (`userId`),
  UNIQUE KEY `gameConnectorId_UNIQUE` (`gameConnectorId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='The Game Connector Table';

